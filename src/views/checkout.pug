extends layouts/base.layout.pug

include partials/top-bar.pug
include partials/icon.pug
include partials/page-title.pug

block append head_scripts
  script(src="https://js.stripe.com/v3/")

block content
  +top-bar
  div(class="container mx-auto p-4")
    +page-title Checkout

    if !user.email
      div(class="my-4")
        form(data-create-customer-form action="/create-customer" method="POST" class="bg-white p-4 rounded-xl border border-gray-100 shadow")
          +page-title(class="mb-4") Provide an email
          label(class="block mb-4")
            div(class="label pb-1 pl-1") Email
            input(data-create-customer-email type="email" class="input" name="email")
            p(class="mt-1 ml-1 text-sm text-gray-400") We will send your invoices there.
          button(type="submit" class="btn btn-primary") Continue
    else
      p the checkout
