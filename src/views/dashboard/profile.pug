extends ../layouts/base.layout.pug

include ../partials/top-bar.pug
include ../partials/page-title.pug

block content
  +top-bar("profile")
  div(class="container mx-auto p-4")
    +page-title(class="mb-4") Profile

    div(class="flex items-start md:flex-row flex-col")
      // - left
      div(class="w-full md:w-2/3 md:mr-4")
        div(class="container mx-auto")
          div(class="p-4 bg-white rounded-xl shadow-sm border border-gray-100 mb-4")
            span(class="inline-block uppercase text-xs font-medium text-gray-600 mb-2 bg-gray-100 p-1 rounded mb-4") Details
            form(action=`${form.action}` method="POST" id="profile-form")
              div(class="pb-4")
                div(class="label pb-1 pl-1") Email
                input(class="input w-full" placeholder="Email" name="email" type="email" id="email" rows="4" disabled value=user.email)

              div(class="pb-8")
                label
                  div(class="label pb-1 pl-1") Bio
                  textarea(class="textarea w-full" placeholder="..." name="bio" id="bio" rows="4" disabled)= user.bio
                span(class="text-sm text-gray-500") Be brief. Max: 280 symbols.
              button(type="submit" class="btn btn-primary" disabled) Update (soon)
      // - right
      div(class="flex-1 container mx-auto")
        div(class="p-4 bg-white rounded-xl shadow-sm border border-gray-100 mb-4")
          span(class="inline-block uppercase text-xs font-medium text-gray-600 mb-2 bg-gray-100 p-1 rounded mb-4") Current plan
          if user.type === USER_TYPES.CREATOR_LITE
            div(class="border rounded-lg overflow-hidden")
              div
                div(class="flex items-center")
                  div(class="flex-1 p-2 border-r")
                    p(class="font-bold") Observer
                  div(class="p-2 bg-yellow-50")
                    // a(class="underline hover:no-underline" href="https://hapticstore.test.onfastspring.com/account") Manage
                    a(href="/checkout" class="underline hover:no-underline") Upgrade
          else if user.type === USER_TYPES.CREATOR
            div(class="border rounded-lg")
              div
                div(class="flex items-center")
                  div(class="flex-1 p-2 border-r")
                    p(class="font-bold") Creator
                  div(class="p-2")
                    a(class="underline hover:no-underline" href="https://hapticstore.test.onfastspring.com/account") Manage
                if user.subscription_deactivation_date
                  div(class="text-xs p-2 border-t") Your subscription ends on: #[strong !{user.subscription_deactivation_date}]


            // - div(class="flex items-center justify-between")
            // -   div(class="p-1 px-4 rounded-full bg-yellow-50 mr-2 flex items-center")
            // -     p(class="font-medium bg-yellow-50 rounded-md flex-1") Creator
            // -   a(class="underline hover:no-underline" href="https://hapticstore.test.onfastspring.com/account") Manage


            // - if user.subscription_deactivation_date
            // -   div(class="text-xs bg-red-50 rounded-md p-1 inline-block mt-4") Your subscription ends on: #[strong !{user.subscription_deactivation_date}]

